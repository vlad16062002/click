{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { createMasks } from './masks';\nimport { useBrowserInfo } from '../../hooks/useBrowserInfo';\nimport { IOS } from '../../lib/platform';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\nvar UsersStack = function UsersStack(props) {\n  var _useBrowserInfo = useBrowserInfo(),\n      platform = _useBrowserInfo.platform,\n      platformVersion = _useBrowserInfo.platformVersion;\n\n  var className = props.className,\n      photos = props.photos,\n      visibleCount = props.visibleCount,\n      size = props.size,\n      layout = props.layout,\n      children = props.children,\n      restProps = _objectWithoutProperties(props, [\"className\", \"photos\", \"visibleCount\", \"size\", \"layout\", \"children\"]);\n\n  useIsomorphicLayoutEffect(function () {\n    createMasks();\n  }, []);\n  var othersCount = Math.max(0, photos.length - visibleCount);\n  var canShowOthers = othersCount > 0 && size === 'm';\n  var photosShown = photos.slice(0, visibleCount);\n  var canUseClipPath = true;\n\n  if (platform === IOS) {\n    canUseClipPath = platformVersion && platformVersion.major >= 12;\n  }\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", _extends({}, restProps, {\n      className: classNames(getClassName('UsersStack', platform), className, \"UsersStack--size-\".concat(size), \"UsersStack--l-\".concat(layout), {\n        'UsersStack--others': canShowOthers,\n        'UsersStack--simple': !canUseClipPath\n      })\n    }),\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"UsersStack__photos\"\n    }, photosShown.map(function (photo, i) {\n      return (\n        /*#__PURE__*/\n        React.createElement(\"div\", {\n          key: i,\n          className: \"UsersStack__photo\",\n          style: {\n            backgroundImage: \"url(\".concat(photo, \")\")\n          }\n        })\n      );\n    }), canShowOthers &&\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: classNames('UsersStack__photo', 'UsersStack__photo--others')\n    }, \"+\".concat(othersCount))), children &&\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"UsersStack__text\"\n    }, children))\n  );\n};\n\nUsersStack.defaultProps = {\n  photos: [],\n  size: 's',\n  visibleCount: 3,\n  layout: 'horizontal'\n};\nexport default\n/*#__PURE__*/\nReact.memo(UsersStack);","map":null,"metadata":{},"sourceType":"module"}